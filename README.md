
# `financr`

<!-- badges: start -->

[![Lifecycle:
experimental](https://img.shields.io/badge/lifecycle-experimental-orange.svg)](https://lifecycle.r-lib.org/articles/stages.html#experimental)

[![CRAN
status](https://www.r-pkg.org/badges/version/financr)](https://CRAN.R-project.org/package=financr)
[![Codecov test
coverage](https://codecov.io/gh/Clement-LVD/financr/graph/badge.svg)](https://app.codecov.io/gh/Clement-LVD/financr)
[![R-CMD-check](https://github.com/Clement-LVD/financr/actions/workflows/R-CMD-check.yaml/badge.svg)](https://github.com/Clement-LVD/financr/actions/workflows/R-CMD-check.yaml)
<!-- badges: end -->

<figure>
<img
src="https://img.shields.io/badge/Package-bold?style=flat&amp;logoColor=black&amp;logoSize=2&amp;label=R&amp;labelColor=black&amp;color=green"
alt=" " />
<figcaption aria-hidden="true"> </figcaption>
</figure>

Retrieves financial data from Yahoo Finance. Get historical or latest
values of financial assets or currencies exchanges rates, latest
insights, assets association (related to each other), etc.

Functions are divided into three main families:

- ‘search\_’: Search for assets using free-text queries
- ‘get\_’: Retrieve financial values and insights, given symbols
- ‘last\_’: Get market summaries, latest values of major assets,
  world-level indices, currencies and cryptocurrencies

See the [vignette ‘Summary of financr
Functions’](https://clement-lvd.github.io/financr/articles/Functions_summary.html).

## Installation

You can install the development version of financr:

``` r
devtools::install_github("clement-LVD/financr")
```

## Examples

**Get ticker symbol from free-texts.** Given keyword(s) such as
companies names, search symbols with `search_assets()`.

``` r
library(financr)

indices <- search_assets(c("Dow jones"
                           , "euronext")
                         , type = "index" )

str(indices)
#> 'data.frame':    8 obs. of  10 variables:
#>  $ symbol        : chr  "^DJI" "^DWRTF" "^DWCPF" "ESG1N.AS" ...
#>  $ shortname     : chr  "Dow Jones Industrial Average" "Dow Jones U.S. Select REIT Inde" "^DWCPF" "Euronext Eurozone 100 ESG NR" ...
#>  $ longname      : chr  "Dow Jones Industrial Average" "Dow Jones U.S. Select REIT Inde" "Dow Jones U.S. Completion Total Stock Market Index" "Euronext Eurozone 100 ESG NR" ...
#>  $ exchange      : chr  "DJI" "DJI" "DJI" "AMS" ...
#>  $ exchdisp      : chr  "Dow Jones" "Dow Jones" "Dow Jones" "Amsterdam" ...
#>  $ quotetype     : chr  "INDEX" "INDEX" "INDEX" "INDEX" ...
#>  $ typedisp      : chr  "Index" "Index" "Index" "Index" ...
#>  $ score         : num  39427 20332 20269 20005 20004 ...
#>  $ isyahoofinance: logi  TRUE TRUE TRUE TRUE TRUE TRUE ...
#>  $ searched      : chr  "dow jones" "dow jones" "dow jones" "euronext" ...
#>  - attr(*, "date.fetch")= Date[1:1], format: "2025-10-03"
```

Optionally use the ‘`get_values`’ parameter to add latest prices to
these results.

``` r
indices2 <- search_assets(
  c("Dow jones", "euronext")
  , type = "index"
  , get_values = TRUE )

str(indices2)
#> 'data.frame':    8 obs. of  28 variables:
#>  $ symbol              : chr  "^DJI" "^DWCPF" "^DWRTF" "ALASG.PA" ...
#>  $ shortname           : chr  "Dow Jones Industrial Average" "^DWCPF" "Dow Jones U.S. Select REIT Inde" "Euronext Growth All-Share Index" ...
#>  $ longname            : chr  "Dow Jones Industrial Average" "Dow Jones U.S. Completion Total Stock Market Index" "Dow Jones U.S. Select REIT Inde" "Euronext Growth All-Share Index" ...
#>  $ exchange            : chr  "DJI" "DJI" "DJI" "PAR" ...
#>  $ exchdisp            : chr  "Dow Jones" "Dow Jones" "Dow Jones" "Paris" ...
#>  $ quotetype           : chr  "INDEX" "INDEX" "INDEX" "INDEX" ...
#>  $ typedisp            : chr  "Index" "Index" "Index" "Index" ...
#>  $ score               : num  39427 20269 20332 20004 20004 ...
#>  $ isyahoofinance      : logi  TRUE TRUE TRUE TRUE TRUE TRUE ...
#>  $ searched            : chr  "dow jones" "dow jones" "dow jones" "euronext" ...
#>  $ currency            : chr  "USD" "USD" "USD" "EUR" ...
#>  $ exchangename        : chr  "DJI" "DJI" "DJI" "PAR" ...
#>  $ fullexchangename    : chr  "DJI" "DJI" "DJI" "Paris" ...
#>  $ instrumenttype      : chr  "INDEX" "INDEX" "INDEX" "INDEX" ...
#>  $ firsttradedate      : POSIXct, format: "1992-01-02 15:30:00" "2006-08-24 15:30:00" ...
#>  $ regularmarkettime   : POSIXct, format: "2025-10-02 23:00:59" "2025-10-02 23:09:31" ...
#>  $ hasprepostmarketdata: logi  FALSE FALSE FALSE FALSE FALSE FALSE ...
#>  $ gmtoffset           : int  -14400 -14400 -14400 7200 7200 7200 7200 7200
#>  $ timezone            : chr  "EDT" "EDT" "EDT" "CEST" ...
#>  $ exchangetimezonename: chr  "America/New_York" "America/New_York" "America/New_York" "Europe/Paris" ...
#>  $ regularmarketprice  : num  46520 2518 296 1185 3028 ...
#>  $ fiftytwoweekhigh    : num  46714 2545 297 1185 3028 ...
#>  $ fiftytwoweeklow     : num  36612 1748 294 1185 3028 ...
#>  $ regularmarketdayhigh: num  46589 2519 297 1185 3028 ...
#>  $ regularmarketdaylow : num  46284 2495 294 1185 3028 ...
#>  $ regularmarketvolume : int  442792180 0 0 0 NA 0 0 NA
#>  $ chartpreviousclose  : num  46441 2500 298 1185 3028 ...
#>  $ previousclose       : num  46441 2500 298 1185 3028 ...
#>  - attr(*, "n.currencies")= int 2
#>  - attr(*, "currencies")= chr [1:2] "USD" "EUR"
#>  - attr(*, "date.fetch")= Date[1:1], format: "2025-10-03"
#>  - attr(*, "date.begin")= POSIXct[1:1], format: "2025-10-02 18:05:02"
#>  - attr(*, "date.end")= POSIXct[1:1], format: "2025-10-03 14:02:45"
#>  - attr(*, "date.dif")= num 20
```

Exploring the results of `search_assets()` is a way to find the symbol
of an asset. `search_assets_quick()` is a variant.

**Get historical financial data.** Given ticker symbol(s), get
historical financial data with `financr::get_historic()`. Default
interval is daily values.

``` r
histo <- get_historic(
  c("SAAB-B.ST", "VOLV-B.ST")
  , .verbose = FALSE)

str(histo)
#> 'data.frame':    638 obs. of  20 variables:
#>  $ open                : num  566 567 568 569 567 ...
#>  $ close               : num  567 568 569 567 567 ...
#>  $ low                 : num  566 566 567 567 566 ...
#>  $ high                : num  568 569 570 570 567 ...
#>  $ volume              : int  0 14224 5579 12100 3127 19049 734 2325 3713 4596 ...
#>  $ timestamp           : int  1759474800 1759474860 1759474920 1759474980 1759475040 1759475100 1759475160 1759475220 1759475280 1759475340 ...
#>  $ date                : POSIXct, format: "2025-10-03 09:00:00" "2025-10-03 09:01:00" ...
#>  $ currency            : chr  "SEK" "SEK" "SEK" "SEK" ...
#>  $ symbol              : chr  "SAAB-B.ST" "SAAB-B.ST" "SAAB-B.ST" "SAAB-B.ST" ...
#>  $ shortname           : chr  "SAAB AB ser. B" "SAAB AB ser. B" "SAAB AB ser. B" "SAAB AB ser. B" ...
#>  $ longname            : chr  "Saab AB (publ)" "Saab AB (publ)" "Saab AB (publ)" "Saab AB (publ)" ...
#>  $ exchangename        : chr  "STO" "STO" "STO" "STO" ...
#>  $ fullexchangename    : chr  "Stockholm" "Stockholm" "Stockholm" "Stockholm" ...
#>  $ timezone            : chr  "CEST" "CEST" "CEST" "CEST" ...
#>  $ gmtoffset           : int  7200 7200 7200 7200 7200 7200 7200 7200 7200 7200 ...
#>  $ regularmarketprice  : num  570 570 570 570 570 ...
#>  $ fiftytwoweeklow     : num  204 204 204 204 204 ...
#>  $ fiftytwoweekhigh    : num  588 588 588 588 588 ...
#>  $ regularmarketdaylow : num  564 564 564 564 564 564 564 564 564 564 ...
#>  $ regularmarketdayhigh: num  574 574 574 574 574 ...
#>  - attr(*, "n.currencies")= int 1
#>  - attr(*, "currencies")= chr "SEK"
#>  - attr(*, "date.fetch")= Date[1:1], format: "2025-10-03"
#>  - attr(*, "date.begin")= int 1759474800
#>  - attr(*, "date.end")= int 1759493864
#>  - attr(*, "date.dif")= num 19064
```

## Vignettes

- [Summary of financr
  functions](https://clement-lvd.github.io/financr/articles/Functions_summary.html).

- [The ‘last\_ family’ of
  functions](https://clement-lvd.github.io/financr/articles/last_family.html).

- [Currency-related
  functions](https://clement-lvd.github.io/financr/articles/currencies.html).

- [The example
  Vignette](https://clement-lvd.github.io/financr/articles/example.html).

**Yahoo Finance API Licence.** This package retrieves data from Yahoo
Finance, a property of Yahoo Inc. Users must comply with [Yahoo
Finance’s API
terms](https://legal.yahoo.com/us/en/yahoo/terms/product-atos/apiforydn/index.html).
See more informations on the [legal
Vignette](https://clement-lvd.github.io/financr/articles/About_the_Yahoo_Finance_License.html).
